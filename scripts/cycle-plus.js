// Cycle Plus Products Data
const cyclePlusProducts = [
  {
    id: 1,
    name: "Blue Ceramic Zero Chipping Blade",
    category: "ceramic-blades",
    description: "105 X 1.4 X 8 X 20mm",
    price: "₹120",
    size: "4-inch",
    specs: ["Hot Pressed", "Vitrified Tiles", "Porcelain","Ceramic Tiles"],
    image: "images/cycle_ceramicblue.png",
    badge: "Best Seller",
  },
  {
    id: 2,
    name: "TCT Circular Saw Blade - Professional",
    category: "tct-blades",
    description: "Tungsten carbide tipped blade for precise wood cutting applications.",
    price: "₹1,899",
    size: "4-inches",
    specs: ["4-16 inches in various thickness", "TCT", "Wood"],
    image: "images/cycle_tct.png",
    badge: "Professional",
  },
  {
    id: 3,
     name: "White Ceramic Zero Chipping Blade",
    category: "ceramic-blades",
    description: "105 X 1.8 X 7.5 X 20mm",
    price: "₹120",
    size: "4-inch",
    specs: ["Hot Pressed", "Marble & Granite", "Ceramic Tiles"],
    image: "images/cycle_ceramicwhite.png",
    badge: "New",
  },
  // {
  //   id: 4,
  //   name: "Diamond Blade - Heavy Duty",
  //   category: "diamond-blades",
  //   description: "Heavy-duty diamond blade for industrial concrete cutting.",
  //   price: "₹3,299",
  //   size: "12-inch",
  //   specs: ["12 inch", "Heavy Duty", "Industrial"],
  //   image: "images/diamond-blade-2.jpg",
  //   badge: "Heavy Duty",
  // },
  {
    id: 5,
    name: "TCT Blade - Universal",
    category: "tct-blades",
    description: "Versatile TCT blade suitable for various materials.",
    price: "₹1,599",
    size: "4-inch",
    specs: ["4 X 30 | 4 X 40 | 5 X 30 | 5 X 40", "Reliable Quality", "Versatile"],
    image: "images/cycle_tctuniversal.png",
    badge: "Versatile",
  },
  {
    id: 6,
     name: "Super Thin Turbo Zero Chipping Blade",
    category: "ceramic-blades",
    description: "110 X 1.4 X 20mm",
    price: "₹120",
    size: "4-inch",
    specs: ["Hot Pressed", "Marble & Granite", "Dry & Wet Cutting","Ceramic Tiles"],
    image: "images/cycle_ceramicsuperthin.png",
    badge: "Best Seller",
  },
  // {
  //   id: 7,
  //   name: "Diamond Blade - Compact Series",
  //   category: "diamond-blades",
  //   description: "Compact diamond blade perfect for small projects.",
  //   price: "₹1,199",
  //   size: "4-inch",
  //   specs: ["4 inch", "Compact", "Small Projects"],
  //   image: "images/diamond-blade-3.jpg",
  //   badge: "Compact",
  // },
  {
    id: 8,
    name: "TCT Blade - Thin Kerf",
    category: "tct-blades",
    description: "Fine finish 1.5mm TCT blade for smooth, professional cuts.",
    price: "₹2,199",
    size: "4-inch",
    specs: ["4 X 30 | 4 X 40 | 5 X 30 | 5 X 40", "Fine Finish", "Professional"],
    image: "images/cycle_tct1.5.png",
    badge: "Fine Finish",
  },
    {
    id: 9,
    name: "Aluminium Blade",
    category: "aluminium-blades",
    description: "Industrial Quality Aluminium Blade",
    price: "₹2,199",
    size: "10-inch",
    specs: ["10 X 100 | 10 X 120 | 12 X 100 | 12 X 120 | 14 X 120 | 16 X 120", "Anti-Vibration", "Low Noise"],
    image: "images/cycle_alu.png",
    badge: "Fine Finish",
  },
    {
    id: 10,
    name: "Granite Blade",
    category: "granite-blades",
    description: "Granite Segment Blade",
    price: "₹2,199",
    size: "4-inch",
    specs: ["Available in Sizes- 4’’ | 5’’ | 6’’ | 7’’ | 8’’ | 10’’ | 14’’ | 16’’", "Hot-Pressed", "Wet Cutting","Marble & Granite"],
    image: "images/cycle_seg.png",
    badge: "Fine Finish",
  },
  {
    id: 11,
    name: "Granite Blade",
    category: "granite-blades",
    description: "Granite Rim Blade",
    price: "₹2,199",
    size: "4-inch",
    specs: ["Available in Sizes- 4’’ | 5’’ ", "Hot-Pressed", "Wet Cutting","Marble & Granite"],
    image: "images/cycle_rim.png",
    badge: "Fine Finish",
  },
   {
    id: 11,
    name: "Granite Blade",
    category: "granite-blades",
    description: "Granite Turbo Blade",
    price: "₹2,199",
    size: "4-inch",
    specs: ["Available in Sizes- 4’’ | 5’’ | 7’’ ", "Hot-Pressed", "Wet Cutting","Marble & Granite"],
    image: "images/cycle_turbo.png",
    badge: "Fine Finish",
  },
     {
    id: 12,
    name: "Blue Granite Blade",
    category: "granite-blades",
    description: "110 X 1.8 X 20mm",
    price: "₹2,199",
    size: "4-inch",
    specs: [ "Hot-Pressed", "12 Segment","Granite Special"],
    image: "images/cycle_bluegranite.png",
    badge: "Fine Finish",
  }, 
  {
    id: 13,
    name: "14-inch Granite Blade",
    category: "granite-blades",
    description: "350 X 12mm X 50mm Bore",
    price: "₹2,199",
    size: "14-inch",
    specs: [ "Hot-Pressed", "24 Segment","Granite Special"],
    image: "images/cycle_seg14.png",
    badge: "Fine Finish",
  },
    {
    id: 14,
    name: "4-inch For Granite Blade",
    category: "granite-blades",
    description: "110 X 10 X 2.0 X 20mm",
    price: "₹2,199",
    size: "4-inch",
    specs: [ "Hot-Pressed", "10 Segment","Granite Special"],
    image: "images/cycle_for_granite.png",
    badge: "Fine Finish",
  },
  {
    id: 15,
     name: "Green Ceramic Zero Chipping Blade",
    category: "ceramic-blades",
    description: "105 X 1.4 X 8 X 20mm",
    price: "₹120",
    size: "4-inch",
    specs: ["Hot Pressed", "Porcelain", "Ceramic Tiles","Vitrified Tiles"],
    image: "images/cycle_ceramicgreen.png",
    badge: "Pro Series",
  },

 {
    id: 16,
     name: "Hexagonal Shank Chisel",
    category: "chisels",
    description: "Used for- tile, concrete, hollow bricks & stone",
    price: "₹120",
    size: "",
    specs: ["17X280X22mm Flat", "17X280X50mm Flat", "17X280X75mm Flat","17X280X75mm Flat","17X400X22mm Flat","17X400X50mm Flat","17X400X75mm Flat"],
    image: "images/cycle_chiselhsc.png",
    badge: "Premium",
  },
   {
    id: 17,
     name: "SDS Max Chisel",
    category: "chisels",
    description: "Used for- tile, concrete, hollow bricks & stone",
    price: "₹120",
    size: "",
    specs: ["18 X 400 Pointed", "18 X 400 X 25mm", "18 X 400 X 50mm","18 X 400 X 75mm","18 X 600 Pointed"],
    image: "images/cycle_chiselsmc.png",
    badge: "Premium",
  },
    {
    id: 18,
     name: "PH65A Chisel",
    category: "chisels",
    description: "Used for- tile, concrete, hollow bricks & stone",
    price: "₹120",
    size: "",
    specs: ["30 X 400 Pointed", "30 X 400 X 35 MM",],
    image: "images/cycle_chiselPH65AC.png",
    badge: "Premium",
  },
   {
    id: 19,
     name: " SDS PLUS Chisel  ",
    category: "chisels",
    description: "Used for- tile, concrete, hollow bricks & stone",
    price: "₹120",
    size: "",
    specs: ["314 X 250 FLAT",],
    image: "images/cycle_chiselspc.png",
    badge: "Premium",
  },
   {
    id: 20,
     name: " Glass Cutting Blade  ",
    category: "glass-blades",
    description: "100X20mm",
    price: "₹120",
    size: "4-inch",
    specs: ["Diamond Cutting Disc-100mm",],
    image: "images/cycle_glassblade.png",
    badge: "Premium",
  },
]

// DOM Elements
let productsGrid
let searchInput
let categoryFilter
let sizeFilter
let sortSelect
let noResults

// Current filters
const currentFilters = {
  search: "",
  category: "",
  size: "",
  sort: "name-asc",
}

// Initialize when DOM is loaded
document.addEventListener("DOMContentLoaded", () => {
  // Get DOM elements
  productsGrid = document.getElementById("products-grid")
  searchInput = document.getElementById("search-input")
  categoryFilter = document.getElementById("category-filter")
  sizeFilter = document.getElementById("size-filter")
  sortSelect = document.getElementById("sort-select")
  noResults = document.getElementById("no-results")

  // Add event listeners
  if (searchInput) {
    searchInput.addEventListener("input", handleSearch)
  }

  if (categoryFilter) {
    categoryFilter.addEventListener("change", handleCategoryFilter)
  }

  if (sizeFilter) {
    sizeFilter.addEventListener("change", handleSizeFilter)
  }

  if (sortSelect) {
    sortSelect.addEventListener("change", handleSort)
  }

  // Initial render
  renderProducts()
})

// Handle search
function handleSearch(e) {
  currentFilters.search = e.target.value.toLowerCase()
  renderProducts()
}

// Handle category filter
function handleCategoryFilter(e) {
  currentFilters.category = e.target.value
  renderProducts()
}

// Handle size filter
function handleSizeFilter(e) {
  currentFilters.size = e.target.value
  renderProducts()
}

// Handle sorting
function handleSort(e) {
  currentFilters.sort = e.target.value
  renderProducts()
}

// Filter products based on current filters
function filterProducts() {
  const filtered = cyclePlusProducts.filter((product) => {
    // Search filter
    const matchesSearch =
      !currentFilters.search ||
      product.name.toLowerCase().includes(currentFilters.search) ||
      product.description.toLowerCase().includes(currentFilters.search) ||
      product.specs.some((spec) => spec.toLowerCase().includes(currentFilters.search))

    // Category filter
    const matchesCategory = !currentFilters.category || product.category === currentFilters.category

    const matchesSize =
      !currentFilters.size ||
      product.size === currentFilters.size ||
      product.size.includes(currentFilters.size) ||
      product.specs.some((spec) => spec.toLowerCase().includes(currentFilters.size.toLowerCase()))

    return matchesSearch && matchesCategory && matchesSize
  })

  // Sort products
  filtered.sort((a, b) => {
    switch (currentFilters.sort) {
      case "name-asc":
        return a.name.localeCompare(b.name)
      case "name-desc":
        return b.name.localeCompare(a.name)
      case "price-asc":
        return Number.parseInt(a.price.replace(/[₹,]/g, "")) - Number.parseInt(b.price.replace(/[₹,]/g, ""))
      case "price-desc":
        return Number.parseInt(b.price.replace(/[₹,]/g, "")) - Number.parseInt(a.price.replace(/[₹,]/g, ""))
      default:
        return 0
    }
  })

  return filtered
}

// Render products
function renderProducts() {
  if (!productsGrid) return

  const filteredProducts = filterProducts()

  // Clear existing products
  productsGrid.innerHTML = ""

  if (filteredProducts.length === 0) {
    // Show no results message
    if (noResults) {
      noResults.style.display = "block"
    }
    return
  }

  // Hide no results message
  if (noResults) {
    noResults.style.display = "none"
  }

  // Render products
  filteredProducts.forEach((product, index) => {
    const productCard = createProductCard(product, index)
    productsGrid.appendChild(productCard)
  })
}

// Create product card element
function createProductCard(product, index) {
  const card = document.createElement("div")
  card.className = "product-card"
  card.style.animationDelay = `${index * 0.1}s`

  card.innerHTML = `
        <div class="product-image">
            <img src="${product.image}" alt="${product.name}" onerror="this.src='images/placeholder-product.jpg'">
            <div class="product-badge">${product.badge}</div>
        </div>
        <div class="product-info">
            <div class="product-category">${getCategoryName(product.category)}</div>
            <h3 class="product-name">${product.name}</h3>
            <p class="product-description">${product.description}</p>
            <div class="product-specs">
                ${product.specs.map((spec) => `<span class="spec-item">${spec}</span>`).join("")}
            </div>
            <div class="product-price">${product.price}</div>
            <div class="product-actions">
                <button class="btn-cycle btn-cycle-primary" onclick="viewProduct(${product.id})">
                    View Details
                </button>
                <button class="btn-cycle btn-cycle-secondary" onclick="addToWishlist(${product.id})">
                    <i class="fas fa-heart"></i>
                </button>
            </div>
        </div>
    `

  return card
}

// Get category display name
function getCategoryName(category) {
  const categoryNames = {
    "diamond-blades": "Diamond Saw Blades",
    "tct-blades": "TCT Blades",
    "ceramic-blades": "Ceramic Blades",
    "aluminium-blades":"Aluminium Blades",
    "granite-blades":"Granite Blades",
    "glass-blades":"Glass Blades",
  }
  return categoryNames[category] || category
}

// Product actions (placeholder functions)
function viewProduct(productId) {
  const product = cyclePlusProducts.find((p) => p.id === productId)
  if (product) {
    alert(`Viewing details for: ${product.name}\n\nDescription: ${product.description}\nPrice: ${product.price}`)
  }
}

function addToWishlist(productId) {
  const product = cyclePlusProducts.find((p) => p.id === productId)
  if (product) {
    alert(`${product.name} added to wishlist!`)
  }
}
